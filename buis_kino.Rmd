---
title: "Comparing BISTRP and GTBK"
authors: "Georgia Lattig"
output:     html_document
date: "2023-03-11"
---

## Load Packages and Data

```{r load-packages , include = FALSE}
library(tidyverse)
library(readxl)
library(readr)
library(lubridate)
library(janitor)
library(rlang)
library(ggridges)
library(leaflet)
library(sf)
library(lubridate)
# install.packages("regeoboundaries")
library(rgeoboundaries)
# install.packages("remotes")
# remotes::install_gitlab("dickoa/rgeoboundaries")
```


```{r load-data, message = FALSE}
buis_turtle_measures <- read_csv("/cloud/project/data/buis_turtle_measures.csv", 
    col_types = cols(CDate = col_date(format = "%m/%d/%Y")))

GTBK_turtle_measures <- read_csv("/cloud/project/data/GTBK_turtle_measures.csv")
```

## Data Cleaning

```{r clean-GTBK-turtle-measures}
translate <- c(CDate = "fecha", PrimaryTag = "marca_nombre", sp = "especie_nombre_latino", location = "lugar", sex = "sexo_correcto", ccw = "a_c_c", cclnuct = "l_c_c")

GTBK_turtle_measures <- rename(GTBK_turtle_measures, all_of(translate))

GTBK_turtle_measures <- GTBK_turtle_measures %>% 
  mutate(`Remi?` =
           if_else(numero_recaptura > 1, "yes", "no"))

GTBK_turtle_measures <- GTBK_turtle_measures %>% 
  subset(select = -c(nombre_tortuga, geograf√≠a, numero_recaptura))

GTBK_turtle_measures <- GTBK_turtle_measures %>% 
  mutate(sex =
           case_when(
             sex == "Hembra" ~ "female",
             sex == "Macho" ~ "male",
             sex == "Indefinido" ~ "juvenile"
           ))

GTBK_turtle_measures <- GTBK_turtle_measures[, c(1,2,3,8,4,5,6,7)]
```

```{r clean-buis-turtle-measures}
buis_turtle_measures <- buis_turtle_measures %>% 
  subset(select = -c(activityno, ApplyDate, cclnucn, cclnott))

buis_turtle_measures <- buis_turtle_measures %>% 
  mutate(sp =
           case_when(
             sp == "GR" ~ "Chelonia mydas",
             sp == "HB" ~ "Eretmochelys imbricata"
           ))
```

```{r merge-turtle-measures}
turtle_measures <- full_join(GTBK_turtle_measures, buis_turtle_measures)
```






